{"ast":null,"code":"import _regeneratorRuntime from\"/Users/a792125/Desktop/Spotify-Stats/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/a792125/Desktop/Spotify-Stats/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/a792125/Desktop/Spotify-Stats/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import'./Stats.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Stats(_ref){var token=_ref.token;// const [topTracks, setTopTracks] = useState([]);\n// const [topTracksActivated, setTopTracksActivated] = useState(false);\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),topArtists=_useState2[0],setTopArtists=_useState2[1];// const [topArtistsActivated, setTopArtistsActivated] = useState(false);\nvar _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var ENDPOINT=\"https://api.spotify.com/v1/me/top/artists\";var headers={Accept:'application/json',Authorization:'Bearer '+token,'Content-Type':'application/json'};var getTopArtists=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(token){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(ENDPOINT,{params:{limit:500,offset:0},headers:headers}).then(function(response){var data=response.data.items;// console.log(response.data);\nsetData({data:data});console.log(response.data.items);{getArrayArtists(data);}});case 2:case\"end\":return _context.stop();}}},_callee);}));return function getTopArtists(_x){return _ref2.apply(this,arguments);};}();var getArrayArtists=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data){var topArtists,size,i,newDiv,newContent,currentDiv,_i,newP,_newContent,_currentDiv;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:topArtists=[];size=5;for(i=0;i<50;i++){newDiv=document.createElement(\"div\");newDiv.setAttribute(\"id\",i);newContent=document.createTextNode(\"\");newDiv.appendChild(newContent);currentDiv=document.getElementById(\"maindiv\");document.body.insertBefore(newDiv,currentDiv);}for(_i=0;_i<50;_i++){topArtists[_i]=data[_i]['name'];newP=document.createElement(\"p\");_newContent=document.createTextNode(JSON.stringify(topArtists[_i],null,2).replace(/^\"(.+(?=\"$))\"$/,'$1'));newP.appendChild(_newContent);_currentDiv=document.getElementById(_i);document.getElementById(_i).appendChild(newP);}setTopArtists(topArtists);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function getArrayArtists(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Top Artists\"}),/*#__PURE__*/_jsx(\"button\",{onClick:getTopArtists,children:\"Get Artists\"})]});}","map":{"version":3,"names":["React","useState","useEffect","axios","Stats","token","topArtists","setTopArtists","data","setData","ENDPOINT","headers","Accept","Authorization","getTopArtists","get","params","limit","offset","then","response","items","console","log","getArrayArtists","size","i","newDiv","document","createElement","setAttribute","newContent","createTextNode","appendChild","currentDiv","getElementById","body","insertBefore","newP","JSON","stringify","replace"],"sources":["/Users/a792125/Desktop/Spotify-Stats/src/Stats.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport './Stats.css';\nimport axios from 'axios';\n\nexport default function Stats({ token }) {\n    // const [topTracks, setTopTracks] = useState([]);\n    // const [topTracksActivated, setTopTracksActivated] = useState(false);\n    const [topArtists, setTopArtists] = useState([]);\n    // const [topArtistsActivated, setTopArtistsActivated] = useState(false);\n    const [data, setData] = useState({});\n    const ENDPOINT = \"https://api.spotify.com/v1/me/top/artists\";\n    const headers = {\n        Accept: 'application/json',\n            Authorization: 'Bearer ' + token,\n            'Content-Type': 'application/json'\n    };\n    \n\n    const getTopArtists = async (token) => {\n        \n\n        await  axios\n        .get(ENDPOINT, {\n          params: { limit: 500, offset: 0 },\n          headers: headers,\n        })\n        .then((response) => {\n            const data = response.data.items;\n            // console.log(response.data);\n            setData({ data });\n            console.log(response.data.items);\n            {getArrayArtists(data)}\n        })\n    }\n    \n    const getArrayArtists = async (data) => {\n        var topArtists = [];\n        var size = 5;\n        for (let i = 0; i < 50; i++){\n            const newDiv = document.createElement(\"div\");\n            newDiv.setAttribute(\"id\", i);\n\n            const newContent = document.createTextNode(\"\");\n\n            newDiv.appendChild(newContent);\n\n            const currentDiv = document.getElementById(\"maindiv\");\n            document.body.insertBefore(newDiv, currentDiv);\n        }\n\n        for (let i = 0; i < 50; i++){\n            topArtists[i] = data[i]['name'];\n\n            const newP = document.createElement(\"p\")\n\n            const newContent = document.createTextNode((JSON.stringify(topArtists[i], null, 2)).replace(/^\"(.+(?=\"$))\"$/, '$1'));\n            newP.appendChild(newContent);\n\n            const currentDiv = document.getElementById(i);\n\n            document.getElementById(i).appendChild(newP);\n\n        }\n        setTopArtists(topArtists);\n\n\n    }\nreturn(\n    <div>\n        <h1>Top Artists</h1>\n        <button onClick={getTopArtists}>  \n        {/*make button disapear*/ }\n            Get Artists\n        </button>\n    </div>\n)\n}\n\n"],"mappings":"8XAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,aAAP,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAEA,cAAe,SAASC,MAAT,MAA0B,IAATC,MAAS,MAATA,KAAS,CACrC;AACA;AACA,cAAoCJ,QAAQ,CAAC,EAAD,CAA5C,wCAAOK,UAAP,eAAmBC,aAAnB,eACA;AACA,eAAwBN,QAAQ,CAAC,EAAD,CAAhC,yCAAOO,IAAP,eAAaC,OAAb,eACA,GAAMC,SAAQ,CAAG,2CAAjB,CACA,GAAMC,QAAO,CAAG,CACZC,MAAM,CAAE,kBADI,CAERC,aAAa,CAAE,UAAYR,KAFnB,CAGR,eAAgB,kBAHR,CAAhB,CAOA,GAAMS,cAAa,6FAAG,iBAAOT,KAAP,0IAGXF,MAAK,CACXY,GADM,CACFL,QADE,CACQ,CACbM,MAAM,CAAE,CAAEC,KAAK,CAAE,GAAT,CAAcC,MAAM,CAAE,CAAtB,CADK,CAEbP,OAAO,CAAEA,OAFI,CADR,EAKNQ,IALM,CAKD,SAACC,QAAD,CAAc,CAChB,GAAMZ,KAAI,CAAGY,QAAQ,CAACZ,IAAT,CAAca,KAA3B,CACA;AACAZ,OAAO,CAAC,CAAED,IAAI,CAAJA,IAAF,CAAD,CAAP,CACAc,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACZ,IAAT,CAAca,KAA1B,EACA,CAACG,eAAe,CAAChB,IAAD,CAAf,CAAsB,CAC1B,CAXM,CAHW,uDAAH,kBAAbM,cAAa,6CAAnB,CAiBA,GAAMU,gBAAe,6FAAG,kBAAOhB,IAAP,2MAChBF,UADgB,CACH,EADG,CAEhBmB,IAFgB,CAET,CAFS,CAGpB,IAASC,CAAT,CAAa,CAAb,CAAgBA,CAAC,CAAG,EAApB,CAAwBA,CAAC,EAAzB,CAA4B,CAClBC,MADkB,CACTC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CADS,CAExBF,MAAM,CAACG,YAAP,CAAoB,IAApB,CAA0BJ,CAA1B,EAEMK,UAJkB,CAILH,QAAQ,CAACI,cAAT,CAAwB,EAAxB,CAJK,CAMxBL,MAAM,CAACM,WAAP,CAAmBF,UAAnB,EAEMG,UARkB,CAQLN,QAAQ,CAACO,cAAT,CAAwB,SAAxB,CARK,CASxBP,QAAQ,CAACQ,IAAT,CAAcC,YAAd,CAA2BV,MAA3B,CAAmCO,UAAnC,EACH,CAED,IAASR,EAAT,CAAa,CAAb,CAAgBA,EAAC,CAAG,EAApB,CAAwBA,EAAC,EAAzB,CAA4B,CACxBpB,UAAU,CAACoB,EAAD,CAAV,CAAgBlB,IAAI,CAACkB,EAAD,CAAJ,CAAQ,MAAR,CAAhB,CAEMY,IAHkB,CAGXV,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAHW,CAKlBE,WALkB,CAKLH,QAAQ,CAACI,cAAT,CAAyBO,IAAI,CAACC,SAAL,CAAelC,UAAU,CAACoB,EAAD,CAAzB,CAA8B,IAA9B,CAAoC,CAApC,CAAD,CAAyCe,OAAzC,CAAiD,gBAAjD,CAAmE,IAAnE,CAAxB,CALK,CAMxBH,IAAI,CAACL,WAAL,CAAiBF,WAAjB,EAEMG,WARkB,CAQLN,QAAQ,CAACO,cAAT,CAAwBT,EAAxB,CARK,CAUxBE,QAAQ,CAACO,cAAT,CAAwBT,EAAxB,EAA2BO,WAA3B,CAAuCK,IAAvC,EAEH,CACD/B,aAAa,CAACD,UAAD,CAAb,CA5BoB,wDAAH,kBAAfkB,gBAAe,8CAArB,CAgCJ,mBACI,oCACI,mCADJ,cAEI,eAAQ,OAAO,CAAEV,aAAjB,yBAFJ,GADJ,CASC"},"metadata":{},"sourceType":"module"}