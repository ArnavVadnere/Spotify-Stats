{"ast":null,"code":"var _jsxFileName = \"/Users/a792125/Desktop/Spotify-Stats/src/Stats.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport './Stats.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Stats(_ref) {\n  _s();\n\n  let {\n    token\n  } = _ref;\n  // const [topTracks, setTopTracks] = useState([]);\n  // const [topTracksActivated, setTopTracksActivated] = useState(false);\n  const [topArtists, setTopArtists] = useState([]); // const [topArtistsActivated, setTopArtistsActivated] = useState(false);\n\n  const [data, setData] = useState({});\n  const ENDPOINT = \"https://api.spotify.com/v1/me/top/artists\";\n  const headers = {\n    Accept: 'application/json',\n    Authorization: 'Bearer ' + token,\n    'Content-Type': 'application/json'\n  };\n\n  const getTopArtists = async token => {\n    await axios.get(ENDPOINT, {\n      params: {\n        limit: 500,\n        offset: 0\n      },\n      headers: headers\n    }).then(response => {\n      const data = response.data.items;\n      setData({\n        data\n      });\n      console.log(response.data.items);\n      {\n        getArrayArtists(data);\n      }\n    });\n  };\n\n  function createDivs() {\n    //create divs \n    for (let i = 0; i < 50; i++) {\n      const newDiv = document.createElement(\"div\");\n      newDiv.setAttribute(\"id\", i);\n      const newContent = document.createTextNode(\"\");\n      newDiv.appendChild(newContent);\n      const currentDiv = document.getElementById(\"maindiv\");\n      document.body.insertBefore(newDiv, currentDiv);\n    }\n  }\n\n  const getArrayArtists = async data => {\n    createDivs();\n    var topArtists = []; //populate divs with paragraphs\n\n    for (let i = 0; i < 50; i++) {\n      topArtists[i] = data[i]['name'];\n      const newP = document.createElement(\"p\");\n      const newContent = document.createTextNode(i + 1 + \": \" + JSON.stringify(topArtists[i], null, 2).replace(/^\"(.+(?=\"$))\"$/, '$1'));\n      newP.appendChild(newContent);\n\n      if (i == 0) {\n        var element = document.getElementById(i);\n        element.style.fontSize = \"50px\";\n        const img = document.createElement(\"img\"); // const newContent = document.createTextNode(\"src='{topArtists[0]['images'][0]['url']}'\");\n\n        const link = data[0]['images'][0]['url'];\n        console.log(link);\n        img.setAttribute(\"src\", link); // img.appendChild(newContent);\n\n        document.getElementById(i).appendChild(img);\n      } else if (i == 1) {\n        var element = document.getElementById(i);\n        element.style.fontSize = \"40px\";\n      } else if (i == 2) {\n        var element = document.getElementById(i);\n        element.style.fontSize = \"30px\";\n      }\n\n      document.getElementById(i).appendChild(newP);\n    }\n\n    setTopArtists(topArtists);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Stats for Spotify\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: getTopArtists,\n      children: \"Get Artists\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Stats, \"/MVYFmRWiUKsLq4VPA37iTNUIus=\");\n\n_c = Stats;\n\nvar _c;\n\n$RefreshReg$(_c, \"Stats\");","map":{"version":3,"names":["React","useState","useEffect","axios","Stats","token","topArtists","setTopArtists","data","setData","ENDPOINT","headers","Accept","Authorization","getTopArtists","get","params","limit","offset","then","response","items","console","log","getArrayArtists","createDivs","i","newDiv","document","createElement","setAttribute","newContent","createTextNode","appendChild","currentDiv","getElementById","body","insertBefore","newP","JSON","stringify","replace","element","style","fontSize","img","link"],"sources":["/Users/a792125/Desktop/Spotify-Stats/src/Stats.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport './Stats.css';\nimport axios from 'axios';\n\nexport default function Stats({ token }) {\n    // const [topTracks, setTopTracks] = useState([]);\n    // const [topTracksActivated, setTopTracksActivated] = useState(false);\n    const [topArtists, setTopArtists] = useState([]);\n    // const [topArtistsActivated, setTopArtistsActivated] = useState(false);\n    const [data, setData] = useState({});\n    const ENDPOINT = \"https://api.spotify.com/v1/me/top/artists\";\n    const headers = {\n        Accept: 'application/json',\n            Authorization: 'Bearer ' + token,\n            'Content-Type': 'application/json'\n    };\n    \n\n    const getTopArtists = async (token) => {\n        \n\n        await  axios\n        .get(ENDPOINT, {\n          params: { limit: 500, offset: 0 },\n          headers: headers,\n        })\n        .then((response) => {\n            const data = response.data.items;\n            setData({ data });\n            console.log(response.data.items);\n\n            {getArrayArtists(data)}\n        })\n    }\n    \n    function createDivs(){\n        //create divs \n        for (let i = 0; i < 50; i++){\n            const newDiv = document.createElement(\"div\");\n            newDiv.setAttribute(\"id\", i);\n\n            const newContent = document.createTextNode(\"\");\n\n            newDiv.appendChild(newContent);\n\n            const currentDiv = document.getElementById(\"maindiv\");\n            document.body.insertBefore(newDiv, currentDiv);\n        }\n    }\n    const getArrayArtists = async (data) => {\n        createDivs();\n\n        var topArtists = [];\n        //populate divs with paragraphs\n        for (let i = 0; i < 50; i++){\n            topArtists[i] = data[i]['name'];\n\n            const newP = document.createElement(\"p\")\n\n            const newContent = document.createTextNode((i + 1) + \": \" + (JSON.stringify(topArtists[i], null, 2)).replace(/^\"(.+(?=\"$))\"$/, '$1'));\n\n            newP.appendChild(newContent);\n\n            if(i == 0){\n                var element = document.getElementById(i);\n                element.style.fontSize = \"50px\";\n\n                const img = document.createElement(\"img\");\n                // const newContent = document.createTextNode(\"src='{topArtists[0]['images'][0]['url']}'\");\n                const link = data[0]['images'][0]['url'];\n                console.log(link);\n                img.setAttribute(\"src\", link);\n                // img.appendChild(newContent);\n                document.getElementById(i).appendChild(img);\n            }\n            else if(i == 1){\n                var element = document.getElementById(i);\n                element.style.fontSize = \"40px\";\n            }\n            else if(i == 2){\n                var element = document.getElementById(i);\n                element.style.fontSize = \"30px\";\n            }\n\n            document.getElementById(i).appendChild(newP);\n\n        }\n        setTopArtists(topArtists);\n\n\n    }\nreturn(\n    <div>\n        <h1>Stats for Spotify</h1>\n        <button onClick={getTopArtists}>  \n        {/*make button disapear and add time range*/ }\n            Get Artists\n        </button>\n\n        {/* <button onClick={getTopTracks}>\n            Get Tracks\n        </button>\n\n        <button onClick={getTopGenres}>\n            Get Genres\n        </button> */}\n\n    </div>\n)\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}